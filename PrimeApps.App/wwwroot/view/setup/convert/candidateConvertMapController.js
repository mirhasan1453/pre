"use strict";angular.module("primeapps").controller("CandidateConvertMapController",["$rootScope","$scope","$filter","$cache","helper","ConvertMapService",function(e,a,i,n,o,t){a.$parent.collapsed=!0,a.language=e.language,a.candidateModule=i("filter")(e.modules,{name:"adaylar"},!0)[0],a.employeeModule=i("filter")(e.modules,{name:"calisanlar"},!0)[0];var d=function(){var e=a.candidateModule.id;t.getMappings(e).then(function(e){a.employeeModule.selectedFields={},angular.forEach(e.data,function(e){a.employeeModule.selectedFields[e.field_id]=i("filter")(a.employeeModule.fields,{id:e.mapping_field_id},a.employeeModule,{id:e.mapping_module_id},!0)[0]})})["catch"](function(){ngToast.create({content:i("translate")("Common.Error"),className:"danger"})})};d(),a.customFilter=function(e){return function(a){return"lookup"===a.data_type&&"lookup"===e.data_type?a.lookup_type===e.lookup_type?!0:!1:"picklist"===a.data_type&&"picklist"===e.data_type?a.picklist_id===e.picklist_id?!0:!1:!0}},a.mappingModuleFieldChanged=function(e,n,o){var d={};if(d.module_id=a.candidateModule.id,d.mapping_module_id=e.id,d.field_id=n.id,d.mapping_field_id=null,e.selectedFields[n.id]){var l=e.selectedFields[n.id];d.mapping_field_id=l.id,t.createMapping(d).then(function(){a.showSuccessIcon={},a.showSuccessIcon[n.id]={},a.showSuccessIcon[n.id][e.id]=!0})["catch"](function(){ngToast.create({content:i("translate")("Common.Error"),className:"danger"})})}else d.mapping_field_id=o.id,t.deleteMapping(d).then(function(){a.showSuccessIcon={},a.showSuccessIcon[n.id]=!0})["catch"](function(){ngToast.create({content:i("translate")("Common.Error"),className:"danger"})})}}]);