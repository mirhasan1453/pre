"use strict";angular.module("primeapps").controller("MenuListController",["$rootScope","$scope","$filter","ngToast","$dropdown","MenuService","$window","ModuleService","AppService",function(e,t,n,o,a,i,d,l,r){function c(){i.getAllMenus().then(function(e){t.menuList=e.data;for(var o=0;o<e.data.length;o++)t.menuList[o].id=e.data[o].id,t.menuList[o].name=e.data[o].name,t.menuList[o].profile_name=n("filter")(t.profiles,{id:e.data[o].profile_id},!0)[0].name;e.data.length<1&&u(),t.loading=!1})}function u(){r.getMyAccount(!0)}t.loading=!0,c(),t["delete"]=function(e){i["delete"](e).then(function(){o.create({content:n("translate")("Menu.DeleteSuccess"),className:"success"}),c()})},t.openDropdown=function(e){t["dropdown"+e.name]=t["dropdown"+e.name]||a(angular.element(document.getElementById("actionButton-"+e.name)),{placement:"bottom-right",scope:t,animation:"",show:!0});var o=[{text:n("translate")("Common.Edit"),href:"#/app/setup/menu?id="+e.id},{text:n("translate")("Common.Copy"),href:"#app/setup/menu?id="+e.id+"&clone=true"}];e["default"]||o.push({text:n("translate")("Common.Delete"),click:"delete('"+e.id+"')"}),t["dropdown"+e.name].$scope.content=o}}]);