"use strict";angular.module("primeapps").factory("ProfileService",["$rootScope","$http","config","$filter","entityTypes",function(e,r,t,i){return{getAll:function(){return r.post(t.apiUrl+"Profile/GetAll",{})},getAllBasic:function(){return r.get(t.apiUrl+"Profile/GetAllBasic")},getProfiles:function(r,t,a){var n=r;return angular.forEach(n,function(r){if(r.is_persistent&&r.has_admin_rights&&(r.name=i("translate")("Setup.Profiles.Administrator"),r.description=i("translate")("Setup.Profiles.AdministratorDescription")),r.is_persistent&&!r.has_admin_rights&&(r.name=i("translate")("Setup.Profiles.Standard"),r.description=i("translate")("Setup.Profiles.StandardDescription")),a)r.permissions&&(r.permissions=[]);else{var t=[];angular.forEach(r.permissions,function(r){var a=!0;switch(r.type){case 1:r.EntityTypeName=i("translate")("Layout.Menu.Documents"),r.order=999;break;case 2:r.EntityTypeName=i("translate")("Layout.Menu.Reports"),r.order=1e3;break;case 3:r.EntityTypeName=i("translate")("Feed.Feed"),r.Order=1001;break;case 0:var n=i("filter")(e.modules,{id:r.module_id},!0)[0];n&&n.order>0?(r.EntityTypeName=n["label_"+e.language+"_plural"],r.order=n.order):a=!1}a&&t.push(r)}),r.permissions=i("orderBy")(t,"Order")}}),n=i("orderBy")(n,["-is_persistent","-has_admin_rights","+name"])},changeUserProfile:function(e,i,a){return r.post(t.apiUrl+"Profile/ChangeUserProfile",{User_ID:e,tenant_id:i,Transfered_Profile_ID:a})},create:function(e){return r.post(t.apiUrl+"Profile/Create",e)},update:function(e){return r.post(t.apiUrl+"Profile/Update",e)},remove:function(e,i,a){return r.post(t.apiUrl+"Profile/Remove",{removed_profile:{id:e,InstanceID:a},transfer_profile:{id:i,InstanceID:a}})}}}]);