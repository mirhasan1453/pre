"use strict";angular.module("primeapps").controller("WarehouseController",["$rootScope","$scope","$filter","ngToast","$state","AnalyticsService",function(a,e,s,o,r,t){return e.loading=!0,a.workgroup.has_analytics?(t.getWarehouseInfo().then(function(a){e.warehouseInfo=a.data,e.loading=!1}),e.changePassword=function(){e.databasePassword||e.warehouseForm.databasePassword.$setValidity("required",!1),e.warehouseForm.$valid&&(e.changing=!0,t.changeWarehousePassword(e.databasePassword).then(function(){o.create({content:s("translate")("Setup.Warehouse.PaswordSuccess"),className:"success"})})["catch"](function(a){400===a.status&&e.warehouseForm.databasePassword.$setValidity("password",!1)})["finally"](function(){e.changing=!1}))},void(e.setValid=function(){e.warehouseForm.databasePassword.$setValidity("required",!0),e.warehouseForm.databasePassword.$setValidity("password",!0)})):(o.create({content:s("translate")("Common.Forbidden"),className:"warning"}),r.go("app.dashboard"),void(a.app="crm"))}]);